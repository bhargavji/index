define(["jquery"],function($){var common={};let intrestPayload,intrestToken;common.sendPageView=function(id="",headline="",section="",author="",isPremium="false"){var parms={};parms=""==id?{hitType:"pageview",location:window.location.hostname.trim(),title:headline.trim(),page:window.location.pathname.trim(),dimension15:headline}:{hitType:"pageview",location:window.location.hostname.trim(),title:headline.trim(),page:window.location.pathname.trim(),dimension15:headline,dimension47:isPremium,dimension48:id},ga("send",parms),pSUPERFLY.virtualPage({sections:section,authors:author,path:window.location.pathname.trim(),title:headline}),"undefined"!=typeof COMSCORE&&void 0!==COMSCORE.beacon&&COMSCORE.beacon({c1:"2",c2:"6035286"})},common.trackNewRelic=function(url){let i;newrelic.interaction().save()},common.getLocation=function(callback){var ranNo=Math.random();$.ajax({url:"https://www.hindustantimes.com/resources/img/hindustantimes_notification_logo.png?v="+ranNo,type:"HEAD",success:callback})},common.getCookie=function(e){for(var a=e+"=",t=document.cookie.split(";"),n=0;n<t.length;n++){for(var o=t[n];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(a))return o.substring(a.length,o.length)}return null},common.setCookie=function(e,t,a){var i=new Date;i.setTime(i.getTime()+24*a*60*60*1e3);var o="expires="+i.toGMTString();document.cookie=e+"="+t+";"+o+";domain=.hindustantimes.com;path=/"},common.trackWebEngageEvents=function(eventName,evntObj){"undefined"!=typeof webengage&&webengage.track(eventName,evntObj)},common.gaSubTrackingEvent=function(eventName,planName,planType,eventData){try{ga("send","event",eventName,planName,planType,eventData)}catch(e){}},common.getUrlParam=function(name){const urlParams=new URLSearchParams(window.location.search),myParam=urlParams.get(name);return myParam};var hours12=function(date){let hour=(date.getHours()+24)%12||12;return hour<10?"0"+hour:hour};common.getFormatedDateForQuickRead=function(date){var dt=new Date(date),formatedDate="",ampm=dt.getHours()>=12?"PM":"AM";let day=dt.getDate()<10?"0"+dt.getDate():dt.getDate(),minute=dt.getMinutes()<10?"0"+dt.getMinutes():dt.getMinutes();var sortMonths;return formatedDate=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][dt.getMonth()]+" "+day+", "+hours12(dt)+":"+minute+" "+ampm+" IST"},common.addUserFollowData=function(payLoad,token){showToastMsg("add",payLoad),$.ajax({url:"https://accounts.hindustantimes.com/v2/user/interest",type:"POST",data:payLoad,contentType:"application/json",dataType:"json",beforeSend:function(xhr){xhr.setRequestHeader("Authorization",token),xhr.setRequestHeader("Referrer","HT"),xhr.setRequestHeader("X-Client","1023")}})},common.getUserInterestData=function(clientId,token,callback){$.ajax({url:"https://accounts.hindustantimes.com/v2/user/interest?ref=HT&user_id="+clientId,type:"GET",contentType:"application/json",dataType:"json",beforeSend:function(xhr){xhr.setRequestHeader("Authorization",token),xhr.setRequestHeader("X-Client","1023")},success:function(res){callback(res)}})},common.removeUserFollowData=function(payLoad,token){intrestPayload=payLoad,intrestToken=token,showToastMsg("remove",payLoad),$.ajax({url:"https://accounts.hindustantimes.com/v2/user/interest",type:"DELETE",data:payLoad,contentType:"application/json",dataType:"json",beforeSend:function(xhr){xhr.setRequestHeader("Authorization",token),xhr.setRequestHeader("Referrer","HT"),xhr.setRequestHeader("X-Client","1023")}})};let showToastMsg=function(action,payLoad){let data=JSON.parse(payLoad),isSection=$("#toasts").data("section")||!1,msgtxt="",msgHtml="";data.interest.topics.length>0?msgtxt="Topic":data.interest.cities.length>0?msgtxt="City":data.interest.authors.length>0&&(msgtxt="Author"),"add"==action?(msgHtml=msgtxt+" added successfully",isSection&&(msgHtml+="<a href='/personalized-content-listing'>VIEW FOLLOWING</a>")):"remove"==action&&(msgHtml=isSection?msgtxt+" removed successfully<a id='undo-section'>UNDO</a>":msgtxt+" removed successfully<a id='undo-follow'>UNDO</a>"),$("#toasts").show();let newToast=document.createElement("div");$(newToast).addClass("toast-following show"),$(newToast).html(msgHtml),$("#toasts").html(newToast),setTimeout(function(){$(newToast).removeClass("show"),$(newToast).addClass("showOut"),$(newToast).remove()},3e3)};return common.getSectionStories=function(url,callback){$.ajax({url:url,type:"GET",contentType:"application/json",dataType:"json",success:callback})},common});